<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="view.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="wrapper">
      <div
        class="div1"
        ondrop="drop(event, this)"
        ondragover="allowDrop(event)"
      ></div>
      <div class="table">
        <button class="table__previous-hand">
          <img
            class="table__previous-hand-img"
            src="images/previous_hand.png"
            alt=""
          />
        </button>
        <img class="table__img" src="images/TABLE.png" alt="" />
        <div class="table-seats">
          <img class="table-seats__seat" src="images/armchair.png" alt="" />
        </div>
        <div class="players">
          <div class="player player--me">
            <div class="player__info">
              <p class="player__username">Mercedes123</p>
              <p class="player__location">Chisinau</p>
            </div>
            <div class="player__avatar">
              <div class="player__rank">
                <img
                  src="images/rank_icon.png"
                  alt=""
                  class="player__rank-img"
                />
              </div>
              <div class="player__avatar__mask">
                <img
                  class="player__mask-img"
                  src="https://images.unsplash.com/photo-1603415526960-f7e0328c63b1?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                  alt=""
                />
              </div>
            </div>
            <div class="player__game-stats">
              <p class="player__score">
                <span class="player__points">115</span> Puncte
              </p>
              <p class="player__combinations"></p>
            </div>
          </div>
        </div>
      </div>
      <div class="cards">
        <div
          id="card-6"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/1.png" alt="" />
        </div>
        <div
          id="card-23"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/2.png" alt="" />
        </div>
        <div
          id="card-4"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/3.png" alt="" />
        </div>
        <div
          id="card-17"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/4.png" alt="" />
        </div>
        <div
          id="card-8"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/5.png" alt="" />
        </div>
        <div
          id="card-32"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/6.png" alt="" />
        </div>
        <div
          id="card-14"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/7.png" alt="" />
        </div>
        <div
          id="card-21"
          class="card"
          draggable="true"
          ondragstart="drag(event)"
        >
          <img class="card__img" src="cards/8.png" alt="" />
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="cardsLayout.js"></script>
    <script src="index.js"></script>

    <script>
      function allowDrop(ev) {
        ev.preventDefault();
        ev.stopPropagation();
      }

      function drag(ev) {
        console.log("This,", ev.currentTarget);
        ev.dataTransfer.setData("text", ev.currentTarget.id);
      }

      function drop(ev, el) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        console.log("dat", data);
        el.appendChild(document.getElementById(data));

        // Update styles
        document.getElementById(data).style.position = "absolute";
        document.getElementById(data).classList.add("card--stacked");
        document.getElementById(data).classList.remove("card-hover");

        dropAndUpdateCards(parseInt(data.match(/\d+/)[0]));
      }
    </script>
  </body>
</html>
